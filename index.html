<!doctype html>
<html  lang="fr" xml:lang="fr">
  <head>
    <meta charset="utf-8">
	  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	  <title>analyse d'article</title>
    <link rel="stylesheet" href="dist/reset.css">
	  <link rel="stylesheet" href="dist/reveal.css">
	  <link rel="stylesheet" href="dist/theme/black.css" id="theme">
	  <link rel="stylesheet" href="useful.css">
  	<!-- Theme used for syntax highlighted code -->
  	<link rel="stylesheet" href="plugin/highlight/monokai.css" id="highlight-theme">
  	
  </head>
  <body>
    <div class="reveal">
	    <div class="slides">
        $\require{mhchem}$
        <div style="position:absolute; left:0%; top:0%; height:2cm; width:100%;">
          <img src="assets/SU.png" alt="logo Sorbonne"   height="100%" style="position: absolute; left:0%;">
        </div>
        <section>
          <section data-background-video="assets/vid0.webm" data-background-video-loop data-background-video-muted>
            
            <div class="bbox">
              <h1 style="font-size:89%;">
                Whole-brain functional imaging at cellular resolution using light-sheet microscopy
              </h1>
              <em style="font-size:50%;">
                Misha B Ahrens, Michael B Orger, Drew N Robson, Jennifer M Li & Philipp J Keller
              </em>
              <p style="font-size:50%;">
                Publi√© en mai 2013 dans <b> NATURE METHODS </b>
              </p>
            </div>
            <p>
              <em>Yohan Duarte</em>
              </br>
              <script> document.write(new Date().toLocaleDateString()); </script>
            </p>
          </section>
          <section>
            <h3 class="title">Sujet :</h3>
            <p class="fragment">Imagerie c√©r√©brale fonctionnelle</p>
            <div class="fragment">
            $\downarrow$
            <p>larves de poissons-z√®bres</p>
            </div>
          </section>
          <section>
            <h3 class="title">Contexte :</h3>
            <p class="fragment">$\ce{Ca^{2+}}$ imaging</p>
            <table class="fragment">
              <tr><td>$\delta t \approx 1\mu s$</td><td class="fragment">üëç</td></tr> 
              <tr><td>$\delta v = 1 \text{ neurone}$</td><td class="fragment">üëç</td></tr> 
              <tr><td>$V_{\text{tot}} << V_{\text{cerveau}}$</td><td class="fragment">üëé</td></tr> 
            </table>
          </section>
        </section>
        <section>
          <section data-auto-animate>
            <h3 class="title">M√©thode :</h3>
            <div style="float: right;">
              <img src="assets/Gcamp.jpeg" class="figure">
              <p class="caption">prot√©ine GCaMP responsable de la fluorescence</p>
            </div>
            <div class="vctr">
              <p >$\ce{Ca^{2+}}$ imaging</p>
              <ul style="font-size: 60%">
                <li>M√©thode d'imagerie optique</li>
                <li>Detecte les neurones actifs</li>
                <li>Bas√© sur un indicateur fluorescent</li>
                <li>Sensible √† la pr√©sence d'ions $\ce{Ca^{2+}}$</li>
                <li>Indicateur inject√© ou produit par l'organisme</li>
              </ul> 
            </div>
          </section>
          <section data-auto-animate>
            <h3 class="title">Montage :</h3>
            <div>
              <img src="assets/setup.svg" class="figure">
              <p class="caption">Sh√©ma exp√©rimental utilis√©e</p>
            </div>
          </section>
        </section>
        <section>
          <section data-auto-animate>
            <h3 class="title">Application :</h3>
            <div style="float: right;">
              <img src="assets/zebrafish.svg" class="figure">
            </div>
            <div class="vctr">
              <ul style="font-size: 60%">
                <li>$10^{5}$ neurones</li>
                <li>Produisent l'indicateur $\ce{Ca^{2+}}$ GCaMP5G</li>
                <li>Albinos</li>
              </ul> 
            </div>
          </section>
          <section>
            <h3 class="title">R√©sultats :</h3>
            <div>
              <div style="float: right; width: 50%;">
                <video class="figure" controls data-autoplay loop>
                  <source src=assets/vid1.webm type="video/webm">
                </video>
                <p class="caption">Image du cerveau d'une larve de poisson-z√®bre</p>
              </div>
              <div class="vctr" style="float: left; width: 50%; font-size: 80%;">
                <ul>
                  <li>$\delta t = 5~ \mu s$</li>
                  <li>$t = 1.3~ s$</li>
                  <li>$\delta v = 5 \times 5 \times 5~ \mu m^3$</li>
                  <li>$V = 800 \times 600 \times 200~ \mu m^3$</li>
                </ul>
              </div>
            </div>
          </section>
          <section>
            <h3 class="title">R√©sultats :</h3>
            <div>
              <div style="float: right; width: 50%;">
                <video class="figure" controls data-autoplay loop>
                  <source src=assets/vid2.webm type="video/webm">
                </video>
                <p class="caption">Evolution temporelle de l'activation des neurones</p>
              </div>
              <div class="vctr" style="float: left; width: 50%; font-size: 60%;">
                <ul>
                  <li>Permet d'√©tudier les corr√©lations entre les neurones</li>
                  <li>Ne permet pas d'√©tudier les comportements √† haute fr√©quence</li>
                </ul>
              </div>
            </div>
          </section>
        </section>
        <section>
          <section>
            <h3 class="title">Traitement de donn√©es :</h3>
            <pre><code data-line-numbers style="font-size: 50%; width: 115%;">% Misha B. Ahrens and Philipp J. Keller, HHMI/Janelia Farm, 2012-2013
% Email: ahrensm@janelia.hhmi.org, kellerp@janelia.hhmi.org

volFolder    = 'X:\SiMView2\12-10-29\Dre_L1_HuCGCaMP5_0_20121029_143021.corrected\vol_aligned.1_2000\';
refFolder    = 'X:\SiMView2\12-10-29\Dre_L1_HuCGCaMP5_0_20121029_143021.corrected\ref_aligned.1_2000\';
outputFolder = 'X:\SiMView2\12-10-29\Dre_L1_HuCGCaMP5_0_20121029_143021.corrected\dff_aligned.1_2000\';
volHeader    = 'vol_aligned_';
refHeader    = 'ref_aligned_';
outputHeader = 'dff_aligned_';

timeRange    = [1 2000];
slices       = 1:41;
sampling     = 5;
meanFraction = 0.1;
scaling      = [3 5000];
writeMIP     = 1;

poolWorkers  = 12;

%% processing loop

disp(' ');style="font-size: 50%; width: 115%;"
disp('Setting up processing environment');

masterClock = tic;

ticks = timeRange(1):sampling:timeRange(end);
timeArray = zeros(numel(ticks) + 2, 1);

if matlabpool('size') > 0
    matlabpool('close');
end;
matlabpool(poolWorkers);

mkdir(outputFolder);

timeLabel = num2str(ticks(round(numel(ticks) / 2)), '%.5d');
frameName = [refFolder refHeader 'T' timeLabel '_P' num2str(slices(1), '%.3d') '.tif'];
frame = imread(frameName);
xSize = size(frame, 1);
ySize = size(frame, 2);
zSize = numel(slices);

referenceData = zeros(xSize, ySize, zSize, 'uint16');
parfor z = 1:zSize
    currentZ = slices(z);
    frameName = [refFolder refHeader 'T' timeLabel '_P' num2str(currentZ, '%.3d') '.tif'];
    referenceData(:, :, z) = imread(frameName);
end;
referenceOffset = meanFraction * mean(referenceData(:));

timeArray(1) = toc(masterClock);

disp(['Processing environment set up in ' num2str(timeArray(1), '%.2f') ' seconds']);
disp(' ');

masterClock = tic;

parfor t = 1:numel(ticks)
    startTime = max(ticks(1), ticks(t) - floor(sampling / 2));
    if t == numel(ticks)
        stopTime = timeRange(end);<ul>
                  <li>$\delta t = 5~ \mu s$</li>
                  <li>$t = 1.3~ s$</li>
                  <li>$\delta v = 5 \times 5 \times 5~ \mu m^3$</li>
                  <li>$V = 800 \times 600 \times 200~ \mu m^3$</li>
                </ul>
    else
        stopTime = ticks(t) + sampling - floor(sampling / 2) - 1;
    end;
    
    disp(['Multi-threaded processing of sequence [' num2str(startTime) ' ' num2str(stopTime) ']']);
    
    masterClock = tic;
    
    referenceData = zeros(xSize, ySize, zSize, 'double');
    for z = 1:zSize
        currentZ = slices(z);
        frameName = [refFolder refHeader 'T' num2str(ticks(t), '%.5d') '_P' num2str(currentZ, '%.3d') '.tif'];
        if exist(frameName, 'file') == 2
            referenceData(:, :, z) = imread(frameName);
        else
            error(['Error: File "' frameName '" does not exist']);
        end;
    end;
    
    for s = startTime:stopTime
        if writeMIP
            testName = [outputFolder outputHeader 'T' num2str(s, '%.5d') '_max.tif'];
        else
            testName = [outputFolder outputHeader 'T' num2str(s, '%.5d') '_P' num2str(slices(end), '%.3d') '.tif'];
        end;
        
        if exist(testName, 'file') == 2
            disp(['Note: Skipping processing of time point ' num2str(s)]);
        else
            volumeData = zeros(xSize, ySize, zSize, 'double');
            for z = 1:zSize
                currentZ = slices(z);
                frameName = [volFolder volHeader 'T' num2str(s, '%.5d') '_P' num2str(currentZ, '%.3d') '.tif'];
                if exist(frameName, 'file') == 2
                    volumeData(:, :, z) = imread(frameName);
                else
                    error(['Error: File "' frameName '" does not exist']);
                end;
            end;
            
            signalData = uint16(((volumeData - referenceData) ./ (referenceData + referenceOffset) + scaling(1)) .* scaling(2));
            
            for z = 1:zSize
                currentZ = slices(z);
                frameName = [outputFolder outputHeader 'T' num2str(s, '%.5d') '_P' num2str(currentZ, '%.3d') '.tif'];
                imwrite(signalData(:, :, z), frameName, 'Compression', 'none');
            end;
            if writeMIP
                maxName = [outputFolder outputHeader 'T' num2str(s, '%.5d') '_max.tif'];
                imwrite(max(signalData, [], 3), maxName, 'Compression', 'none');
            end;
        end;
    end;
    
    timeArray(t + 1) = toc(masterClock);

    disp(['Sequence [' num2str(startTime) ' ' num2str(stopTime) '] processed in ' num2str(timeArray(t + 1) / 60, '%.2f') ' minutes']);
end;

disp(' ');

if matlabpool('size') > 0
    matlabpool('close');
end;

disp(' ');

timeArray(end) = toc(masterClock);

elapsedTime = sum(timeArray([1 end]));
disp(['Processing completed in ' num2str(elapsedTime / 60, '%.2f') ' minutes']);

disp(' ');
            </code></pre>
            <p class="caption">Code qui calcule la cor√©lation entre diff√©rentes r√©gions du cervau</p>
          </section>
          <section>
            <h3 class="title">R√©sultats :</h3>
            <div style="float: right; width: 30%;">
              <video class="figure" controls data-autoplay loop>
                <source src=assets/vid5.webm type="video/webm">
              </video>
              <p class="caption">hinbrain oscillator sur 4 cerveaux</p>
            </div>
            <div style="float: right; width: 30%;">
              <video class="figure" controls data-autoplay loop>
                <source src=assets/vid3.webm type="video/webm">
              </video>
              <p class="caption">hinbrain oscillator</p>
            </div>
            <div style="float: right; width: 30%;">
              <video class="figure" controls data-autoplay loop>
                <source src=assets/vid4.webm type="video/webm">
              </video>
              <p class="caption">hinbrain-spinal circuit</p>
            </div>
          </section>
        </section>
        <section>
          <section>
            <h3 class="title">Conclusion :</h3>
          </section>
          <section data-background-video="assets/vid6.webm" data-background-video-loop data-background-video-muted>
            <h2>Merci pour votre attention</h2>
          </section>
        </section>
			</div>
		</div>
		<script src="dist/reveal.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script src="plugin/math/math.js"></script>
		<script>
			Reveal.initialize({
    			keyboardCondition: null,
    			keyboard: true,
    			controls: true,
			    controlsLayout: 'bottom-right',
    			controlsBackArrows: 'faded',
    			slideNumber: "h.v",
				showSlideNumber: 'all',
				progress: true,
				hash: true,
				touch: true,
				loop: false,
				rtl: false,
				navigationMode: 'default',
				shuffle: false,
				autoPlayMedia: true,
				preloadIframes: null,
				autoAnimate: true,
				hideInactiveCursor: true,
				hideCursorTime: 1000,
				transition: 'slide',
                transitionSpeed: 'default',
                backgroundTransition: 'fade',
                math: {
                    config: 'TeX-AMS_HTML-full',
                    TeX: {
                        Macros: {
                            R: '\\mathbb{R}',
                            set: [ '\\left\\{#1 \\; ; \\; #2\\right\\}', 2 ],
                            u : '\\vec{u}',
                            v : '\\vec{v}',
                            r : '\\vec{r}',
                            pderiv: ["\\dfrac{\\partial^{#1} #2}{{\\partial #3}^{#1}}",3 ," "],
                            Fext: ["\\vec{F}^\\text{ext}"]
                            
                        }
                    }
                },
				plugins: [RevealHighlight, RevealMath]
			});
		</script>
	</body>
</html>
